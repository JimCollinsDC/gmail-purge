<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gmail Purge - Email Analysis Tool</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- READ-ONLY Disclaimer Banner -->
    <div id="disclaimer-banner" class="disclaimer-banner">
      <div class="disclaimer-content">
        <i class="fas fa-shield-alt"></i>
        <span
          ><strong>READ-ONLY TOOL:</strong> This application only analyzes your
          emails. It cannot modify or delete anything.</span
        >
        <button id="close-disclaimer" class="close-disclaimer">Ã—</button>
      </div>
    </div>

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-envelope-open-text"></i>
          <h1>Gmail Purge</h1>
          <span class="read-only-badge">READ-ONLY</span>
        </div>
        <div class="header-actions">
          <div id="user-info" class="user-info" style="display: none">
            <img id="user-avatar" class="user-avatar" alt="User Avatar" />
            <span id="user-name"></span>
          </div>
          <button id="auth-button" class="btn btn-primary">
            <i class="fas fa-sign-in-alt"></i>
            Connect Gmail
          </button>
          <button
            id="logout-button"
            class="btn btn-secondary"
            style="display: none"
          >
            <i class="fas fa-sign-out-alt"></i>
            Logout
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Welcome Screen -->
      <section id="welcome-screen" class="welcome-screen">
        <div class="welcome-content">
          <div class="welcome-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h2>Analyze Your Gmail Inbox</h2>
          <p>
            Get detailed insights into your email patterns, storage usage, and
            organization opportunities.
          </p>
          <div class="features-grid">
            <div class="feature-card">
              <i class="fas fa-search"></i>
              <h3>Email Analysis</h3>
              <p>Analyze emails by sender, subject, date, and size</p>
            </div>
            <div class="feature-card">
              <i class="fas fa-chart-pie"></i>
              <h3>Visual Reports</h3>
              <p>Interactive charts and detailed breakdowns</p>
            </div>
            <div class="feature-card">
              <i class="fas fa-shield-check"></i>
              <h3>100% Safe</h3>
              <p>Read-only access - nothing is ever modified or deleted</p>
            </div>
          </div>
          <div class="privacy-notice">
            <i class="fas fa-lock"></i>
            <p>
              <strong>Privacy First:</strong> All analysis happens in your
              browser. No data is stored or transmitted to external servers.
            </p>
          </div>

          <!-- Configuration Notice (hidden by default) -->
          <div id="config-notice" class="config-notice" style="display: none">
            <div class="config-icon">
              <i class="fas fa-cog"></i>
            </div>
            <h3>ðŸš€ Quick Setup Required</h3>
            <p>
              To get started, you'll need to configure your Google Client ID:
            </p>
            <ol class="setup-steps">
              <li>Open <code>js/config/app-config.js</code> in your project</li>
              <li>
                Replace <code>'YOUR_GOOGLE_CLIENT_ID_HERE'</code> with your
                actual Google Client ID
              </li>
              <li>Refresh this page to connect to Gmail</li>
            </ol>
            <div class="help-links">
              <p><strong>Need help getting a Client ID?</strong></p>
              <p>
                ðŸ“– Check the <strong>README.md</strong> file for detailed setup
                instructions
              </p>
              <p>
                ðŸ”— Or visit the
                <a href="https://console.cloud.google.com/" target="_blank"
                  >Google Cloud Console</a
                >
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Dashboard -->
      <section id="dashboard" class="dashboard" style="display: none">
        <!-- Stats Overview -->
        <div class="stats-overview">
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="stat-content">
              <span class="stat-number" id="total-emails">0</span>
              <span class="stat-label">Total Emails</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-content">
              <span class="stat-number" id="unique-senders">0</span>
              <span class="stat-label">Unique Senders</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-database"></i>
            </div>
            <div class="stat-content">
              <span class="stat-number" id="total-size">0 MB</span>
              <span class="stat-label">Total Size</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-calendar"></i>
            </div>
            <div class="stat-content">
              <span class="stat-number" id="date-range">-</span>
              <span class="stat-label">Date Range</span>
            </div>
          </div>
        </div>

        <!-- Controls -->
        <div class="controls">
          <button id="analyze-button" class="btn btn-primary">
            <i class="fas fa-play"></i>
            Start Analysis
          </button>
          <button id="export-button" class="btn btn-secondary" disabled>
            <i class="fas fa-download"></i>
            Export Results
          </button>
          <div class="progress-container" style="display: none">
            <div class="progress-bar">
              <div id="progress-fill" class="progress-fill"></div>
            </div>
            <span id="progress-text">Analyzing emails...</span>
          </div>
        </div>

        <!-- Navigation Breadcrumb -->
        <div id="breadcrumb" class="breadcrumb" style="display: none">
          <button id="back-button" class="breadcrumb-item active">
            <i class="fas fa-arrow-left"></i>
            Back to Senders
          </button>
          <span class="breadcrumb-separator">/</span>
          <span id="current-sender" class="breadcrumb-item"></span>
        </div>

        <!-- Email Analysis Results -->
        <div
          id="analysis-results"
          class="analysis-results"
          style="display: none"
        >
          <!-- Sender List View -->
          <div id="sender-view" class="view-container">
            <div class="view-header">
              <h3>
                <i class="fas fa-users"></i>
                Emails by Sender
              </h3>
              <div class="view-controls">
                <select id="sender-sort" class="sort-select">
                  <option value="count">Sort by Email Count</option>
                  <option value="sender">Sort by Sender Name</option>
                  <option value="size">Sort by Total Size</option>
                </select>
              </div>
            </div>
            <div id="sender-list" class="email-list"></div>
          </div>

          <!-- Subject List View -->
          <div id="subject-view" class="view-container" style="display: none">
            <div class="view-header">
              <h3>
                <i class="fas fa-list"></i>
                <span id="subject-view-title">Emails by Subject</span>
              </h3>
              <div class="view-controls">
                <select id="subject-sort" class="sort-select">
                  <option value="count">Sort by Email Count</option>
                  <option value="subject">Sort by Subject</option>
                  <option value="size">Sort by Total Size</option>
                  <option value="date">Sort by Latest Date</option>
                </select>
              </div>
            </div>
            <div id="subject-list" class="email-list"></div>
          </div>
        </div>
      </section>

      <!-- Loading Overlay -->
      <div id="loading-overlay" class="loading-overlay" style="display: none">
        <div class="loading-content">
          <div class="loading-spinner"></div>
          <h3>Connecting to Gmail...</h3>
          <p>Please wait while we establish a secure connection.</p>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-disclaimers">
          <p>
            <strong>READ-ONLY TOOL:</strong> Gmail Purge only reads and analyzes
            your emails. It cannot modify, delete, or change anything in your
            Gmail account.
          </p>
          <p>
            <strong>Privacy:</strong> All analysis happens locally in your
            browser. No email data is transmitted to external servers.
          </p>
        </div>
        <div class="footer-links">
          <span>Â© 2025 Gmail Purge - Email Analysis Tool</span>
        </div>
      </div>
    </footer>

    <!-- Google APIs -->
    <script src="https://apis.google.com/js/api.js"></script>

    <!-- Application Scripts -->
    <script src="js/config/app-config.js"></script>
    <script src="js/auth/gmail-auth.js"></script>
    <script src="js/api/gmail-api.js"></script>
    <script src="js/utils/email-parser.js"></script>
    <script src="js/utils/storage-helper.js"></script>
    <script src="js/utils/formatters.js"></script>
    <script src="js/components/email-analyzer.js"></script>
    <script src="js/ui/dashboard.js"></script>
    <script src="js/ui/email-list.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
